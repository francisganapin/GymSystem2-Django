{% extends "base.html" %}

{% block title %}Classes{% endblock %}

{% block content %}

<style>
    .member-list {
        padding-right: 100px;
        margin-left: -160px; /* Shift left by 160px */
    }

    .overflow-auto {
        max-height: 600px; /* Limit height for scrolling */
        overflow-y: auto; /* Enable vertical scrolling */
        overflow-x: hidden; /* Disable horizontal scrolling if not needed */
    }
</style>

<div class="member-list">
<div class="main-content p-8 bg-pink-50">
    <div class="overflow-auto max-h-400 border border-gray-400 rounded-md shadow-lg">
        <table class="table-auto border-collapse w-full text-left">
            <thead class="bg-gradient-to-r from-pink-200 to-pink-100 sticky top-0 shadow-sm">
                <tr>
                    <th class="border border-gray-300 px-4 py-3 text-pink-900 font-semibold">ID CARD</th>
                    <th class="border border-gray-300 px-4 py-3 text-pink-900 font-semibold">Expiry</th>
                    <th class="border border-gray-300 px-4 py-3 text-pink-900 font-semibold">Name</th>
                    <th class="border border-gray-300 px-4 py-3 text-pink-900 font-semibold">Phone</th>
                    <th class="border border-gray-300 px-4 py-3 text-pink-900 font-semibold">Profile Image</th>
                    <th class="border border-gray-300 px-4 py-3 text-pink-900 font-semibold">Update</th>
                </tr>
            </thead>
            <tbody class="bg-white">
                {% for member in members %}
                <tr class="hover:bg-pink-50 transition-colors duration-200">
                    <td class="border border-gray-300 px-4 py-2 text-gray-700">{{ member.id_card }}</td>
                    
                    <!--- expiry logic -->
                    <td class="border border-gray-300 px-4 py-2 text-gray-700">
                    {% if member.expiry  < today_date%}
                    <span style="color:red"><strong>Expired</strong></span>
                    {% else %}
                    <span style="color:green"><strong>{{ member.expiry }}</strong></span>
                    {% endif %}

                    </td>
                    <td class="border border-gray-300 px-4 py-2 text-gray-700">{{ member.first_name }} {{ member.last_name }}</td>
                    <td class="border border-gray-300 px-4 py-2 text-gray-700">{{ member.phone_number }}</td>
                    <td class="border border-gray-300 px-4 py-2 text-center">
                        <img src="media/{{ member.profile_image }}" alt="Profile" class="h-12 w-12 rounded-full mx-auto border border-pink-200">
                    </td>

                    <td class="border border-gray-300 px-4 py-2 text-gray-700">
                        <a href="{% url 'member_update_views' member.id %}" class="text-blue-600 hover:text-blue-800">
                            <img src="media/icon/edit.svg" alt="Edit" class="inline-block h-5 w-5">
                        </a>
                    </td>

                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
</div>

{% endblock %}
